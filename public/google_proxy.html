<html>
    <head>
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Cache-Control" content="no-cache" />
        <meta http-equiv="Expires" content="0" />
        <style>
            body {
                margin: 0;
                padding: 0;
            }
            .gsc-control-cse {
                padding-top: 0;
            }
        </style>
        <script>
            //动态传递iframe高度
            function postMsgToParent(name, q, promos, results) {
                let H = document.body.scrollHeight;
                console.log(`[Proxy msg] ${H}`);
                window.parent.postMessage(H, "*");
                clearTimeout(timer);
            }
            window.__gcse || (window.__gcse = {});
            window.__gcse.searchCallbacks = {
                web: {
                    rendered: "postMsgToParent"
                }
            };

            //vpn异常通知
            var request_time = new Date();

            var timeout = 6000;
            var timer = setTimeout(() => {
                throw new Error("加载超时");
            }, timeout);
            window.onerror = function(msg, url, lineNo, columnNo, error) {
                window.parent.postMessage(error, "*");
                return true;
            };

            //加载成功后则清除定时器
            function gcseSuccess() {
                clearTimeout(timer);
            }
        </script>
    </head>
    <body>
        <div class="gcse-searchresults-only"></div>
        <script
            id="gcse-script"
            onload="gcseSuccess"
            src="https://cse.google.com/cse.js?cx=011450975203877314992:itycvatvhcp"
        ></script>
    </body>
</html>