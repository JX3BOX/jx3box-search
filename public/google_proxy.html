<script>
    //动态传递iframe高度
    function postMsgToParent(name, q, promos, results) {
        let H = document.body.scrollHeight
        console.log(`[Proxy msg] ${H}`)
        window.parent.postMessage(H,'*');
    }
    window.__gcse || (window.__gcse = {});
    window.__gcse.searchCallbacks = {
        web: {
            rendered: "postMsgToParent"
        }
    };

    //vpn异常通知
    var request_time = new Date()

    var timeout = 2000
    var timer = setTimeout(() => {
        throw new Error('加载超时')
    },timeout)
    function gcseSuccess(){
        clearTimeout(timer)
    }
    window.onerror = function (msg, url, lineNo, columnNo, error){
        window.parent.postMessage(error,'*');
        return true
    }
</script>
<div class="gcse-searchresults-only"></div>
<style>
    body {
        margin: 0;
        padding: 0;
    }
    .gsc-control-cse {
        padding-top: 0;
    }
</style>
<script id="gcse-script" onload="gcseSuccess"
    src="https://cse.google.com/cse.js?cx=011450975203877314992:itycvatvhcp"
></script>
